{"version":3,"sources":["components/WaitingPage/WaitingPageChat.js","wrappers/breadcrumb/Breadcrumb.js"],"names":["connect","state","cartItems","cartData","wishlistItems","wishlistData","currency","currencyData","dispatch","addToCart","item","addToast","quantityCount","addToWishlist","deleteFromWishlist","deleteAllFromWishlist","location","intervalRef","args","useRef","pathname","useState","history","useHistory","mylocation","useLocation","console","log","data","astroid","useEffect","localStorage","getItem","current","setInterval","JSON","parse","_id","id","sessionStorage","axiosConfig","get","then","res","status","type","swal","clearInterval","push","catch","err","to","process","headerTop","style","padding","className","Breadcrumb","separator","NavLink","finalItem"],"mappings":"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","file":"static/js/150.9e7ebcbe.chunk.js","sourcesContent":["import PropTypes from \"prop-types\";\nimport React, { Fragment, useState, useEffect, useRef } from \"react\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { BreadcrumbsItem } from \"react-breadcrumbs-dynamic\";\nimport { connect } from \"react-redux\";\nimport { useLocation } from \"react-router-dom\";\n\nimport {\n  addToWishlist,\n  deleteFromWishlist,\n  deleteAllFromWishlist,\n} from \"../../redux/actions/wishlistActions\";\nimport { addToCart } from \"../../redux/actions/cartActions\";\nimport LayoutOne from \"../../layouts/LayoutOne\";\nimport Breadcrumb from \"../../wrappers/breadcrumb/Breadcrumb\";\nimport axiosConfig from \"../../axiosConfig\";\nimport { Button, Col, Container, Row } from \"reactstrap\";\n// import { Modal, ModalHeader, ModalBody, ModalFooter } from \"reactstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport swal from \"sweetalert\";\n\nconst Waitingpage = ({ location, args }) => {\n  const intervalRef = useRef();\n  const { pathname } = location;\n  const [order, setOrder] = useState([]);\n  const [Refund, setRefund] = useState({});\n  const [modal, setModal] = useState(false);\n\n  const history = useHistory();\n  const mylocation = useLocation();\n  console.log(mylocation?.state?.data?.astroid);\n  console.log(history?.location?.state?.data?.astroid);\n  let waitingId =\n    mylocation?.state?.data?.astroid || history?.location?.state?.data?.astroid;\n  const toggle = () => setModal(!modal);\n  const fetchOrder = async () => {\n    let userid = JSON.parse(localStorage.getItem(\"user_id\"));\n    const { data } = await axiosConfig.get(`/user/myOrders/${userid}`);\n    const order = data.data;\n    setOrder(order);\n    console.log(order);\n  };\n  const hanleopenmodal = (e, data) => {\n    e.preventDefault();\n    setRefund(data);\n    console.log(data);\n    toggle();\n  };\n\n  const handlegetAcceptAstro = () => {\n    intervalRef.current = setInterval(() => {\n      let userid = JSON.parse(localStorage.getItem(\"user_id\"));\n      console.log(mylocation.state?._id);\n      let id =\n        mylocation?.state?._id || sessionStorage.getItem(\"notificationdata\");\n      console.log(id);\n      axiosConfig\n        .get(`/user/getOnenotificationByastro/${id}`)\n        .then(res => {\n          if (\n            res?.data?.data?.status === \"Accept\" &&\n            res?.data?.data?.type === \"Chat\"\n          ) {\n            swal(\"Astro is now Accepted Your Request\");\n            clearInterval(intervalRef.current);\n            history.push(\"/chatApp\");\n\n            axiosConfig\n              .get(`/admin/dltNotificattion/${res.data.data?._id}`)\n              .then(res => {\n                // clearInterval(intervalRef.current);\n              })\n              .catch(err => {\n                console.log(err);\n              });\n          }\n        })\n        .catch(err => {\n          // console.log(err);\n        });\n    }, 5000);\n  };\n\n  useEffect(() => {\n    // console.log(\"myLocation\", mylocation);\n    if (localStorage.getItem(\"user_id\") && mylocation) {\n      handlegetAcceptAstro();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <Fragment>\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + \"/\"}>Home</BreadcrumbsItem>\n      <BreadcrumbsItem to={process.env.PUBLIC_URL + pathname}>\n        Waiting Chat Page\n      </BreadcrumbsItem>\n\n      <LayoutOne headerTop=\"visible\">\n        <Breadcrumb />\n        <section style={{ padding: \"180px 0px\" }}>\n          <Container>\n            <div className=\"d-flex justify-content-center align-item-center\">\n              <h3>Wait Till Astrologer Accept Your Request...</h3>\n            </div>\n          </Container>\n        </section>\n      </LayoutOne>\n    </Fragment>\n  );\n};\n\nWaitingpage.propTypes = {\n  addToCart: PropTypes.func,\n  cartItems: PropTypes.array,\n  currency: PropTypes.object,\n  location: PropTypes.object,\n  deleteAllFromWishlist: PropTypes.func,\n  deleteFromWishlist: PropTypes.func,\n  wishlistItems: PropTypes.array,\n};\n\nconst mapStateToProps = state => {\n  return {\n    cartItems: state.cartData,\n    wishlistItems: state.wishlistData,\n    currency: state.currencyData,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addToCart: (item, addToast, quantityCount) => {\n      dispatch(addToCart(item, addToast, quantityCount));\n    },\n    addToWishlist: (item, addToast, quantityCount) => {\n      dispatch(addToWishlist(item, addToast, quantityCount));\n    },\n    deleteFromWishlist: (item, addToast, quantityCount) => {\n      dispatch(deleteFromWishlist(item, addToast, quantityCount));\n    },\n    deleteAllFromWishlist: addToast => {\n      dispatch(deleteAllFromWishlist(addToast));\n    },\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Waitingpage);\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport { Breadcrumbs } from \"react-breadcrumbs-dynamic\";\n\nconst Breadcrumb = () => {\n  return (\n    <div className=\"breadcrumb-area pt-10 pb-10 bg-gray-5\">\n      <div className=\"container\">\n        <div className=\"breadcrumb-content text-center\">\n          <Breadcrumbs\n            separator={<span>/</span>}\n            item={NavLink}\n            finalItem={\"span\"}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Breadcrumb;\n"],"sourceRoot":""}